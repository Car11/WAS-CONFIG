<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
    <class name="cr.go.ice.interrupciones.domain.Interrupcion" table="EVE01M">
        <composite-id name="interrupcionID" class="cr.go.ice.interrupciones.domain.InterrupcionID" >            
            <key-property name="aa" column="AA" type="java.lang.Integer" length="4"/>
			<key-property name="codigoOficina" column="COD_OFICINA" type="java.lang.Integer" length="2"/>
			<key-property name="numeroInterrupcion" column="NUMINTERRUP" type="java.lang.Long" length="6"/>
        </composite-id>
		<property name="region" column="REG" type="java.lang.Integer" length="2" not-null="true"/>
		<property name="subRegion" column="SUBREGION" type="java.lang.Integer" length="2" not-null="true"/>
		<property name="subEstacion"  column="SUB" type="java.lang.Integer" length="3" not-null="true"/>
		<property name="circuito"  column="CIR" type="java.lang.Integer" length="4" not-null="true"/>
		<property name="seccion" column="SECCION" type="java.lang.Long" length="5" not-null="true"/>
		<property name="operador" column="OPERADOR" type="java.lang.Long" length="9" not-null="true"/>
		<property name="codigoPueblo" column="CODPUEBLO" type="java.lang.Integer" length="4" not-null="true"/>
		<property name="codigoCalle" column="CODCALLE" type="java.lang.Integer" length="3"/>
		<property name="poste" column="POSTE" type="java.lang.Integer" length="3"/>
		<property name="secuencia" column="SECUENCIA" type="java.lang.Integer" length="2"/>
		<property name="lugar" column="LUGAR" type="java.lang.String" length="50"/>
		<property name="tiefue" column="TIEFUE" type="java.lang.Double" length="12" precision="2" not-null="true"/>
		<property name="trifasica" column="TRIFASICA" type="java.lang.Integer" length="1" not-null="true"/>
		<property name="tipoVoltaje" column="TIPO_VOLTAJE" type="java.lang.Integer" length="2"/>
		<property name="codigoVoltaje" column="COD_VOLTAJE" type="java.lang.Integer" length="3" not-null="true"/>
		<property name="causa1" column="CAUSA1" type="java.lang.Integer" length="3" not-null="true"/>
		<property name="causa2" column="CAUSA2" type="java.lang.Integer" length="3"/>
		<property name="codigoMaterial" column="COD_MATERIAL" type="java.lang.Integer" length="3" not-null="true"/>
		<property name="codigoDano" column="COD_DANO" type="java.lang.Integer" length="3" not-null="true"/>
		<property name="codigoProteccion" column="COD_PROTECCION" type="java.lang.Integer" length="3" not-null="true"/>
		<property name="abonadoAfectado" column="ABO_AFECTA" type="java.lang.Long" length="8" not-null="true"/>
		<property name="horaInicio" column="HORAINI" type="java.lang.Double" length="6" precision="2" not-null="true"/>
		<property name="horaFin" column="HORAFIN" type="java.lang.Double" length="6" precision="2" not-null="true"/>
		<property name="fechaInicio" column="FECINI" type="java.util.Date" not-null="true"/>
		<property name="fechaFin" column="FECFIN" type="java.util.Date" not-null="true"/>
		<property name="codigoPuebloEquipo" column="CODPUEBLO_EQUIPO" type="java.lang.Integer" length="4" not-null="true"/>
		<property name="codigoCalleEquipo" column="CODCALLE_EQUIPO" type="java.lang.Integer" length="3"/>
		<property name="posteEquipo" column="POSTE_EQUIPO" type="java.lang.Integer" length="3"/>
		<property name="secuenciaEquipo" column="SECUENCIA_EQUIPO" type="java.lang.Integer" length="2"/>
		<property name="horasAbonado" column="HRS_ABO" type="java.lang.Double" length="10" precision="2" not-null="true"/>
		<property name="horaAviso" column="HORA_AVISO" type="java.lang.Double" length="6" precision="2" not-null="true"/>
		<property name="fechaAviso" column="FECHA_AVISO" type="java.util.Date" not-null="true"/>
		<property name="bitacora" column="BITACORA" type="java.lang.Integer" length="1"/>
		<property name="indSubEstacion" column="IND_SUB" type="java.lang.Integer" length="1"/>
		<property name="indCircuito" column="IND_CIR" type="java.lang.Integer" length="1"/>
		<property name="nombreCliente" column="NOMBRECLIENTE" type="java.lang.String" length="50"/>
		<property name="telefonoCliente" column="TELEFONOCLIENTE" type="java.lang.String" length="9"/>
		<property name="operadoPor" column="OPERADOPOR" type="java.lang.Integer" length="1"/>
		<property name="codigoAgencia" column="COD_AGENCIA" type="java.lang.Integer" length="3"/>
		<property name="codigoAnimal" column="CODANIMAL" type="java.lang.Integer" length="4"/>
		<property name="faseR" column="FASE_R" type="java.lang.String"/>
		<property name="faseS" column="FASE_S" type="java.lang.String"/>
		<property name="faseT" column="FASE_T" type="java.lang.String"/>
		<property name="comentario" column="COMENTARIO" type="java.lang.String" length="500"/>
		<property name="acometida" column="ACOMETIDA" type="java.lang.Integer" length="4"/>
		<property name="tipoAcometida" column="TIPOACOMETIDA" type="java.lang.Integer" length="4"/>
		<property name="medidor" column="MEDIDOR" type="java.lang.Long" length="7"/>
		<property name="operadorScada" column="OPERADOR_SCADA" type="java.lang.String" length="30"/>
        <property name="usuario" column="USUARIO" type="java.lang.String" length="50"/>
	    <property name="codigoIntervenido" column="COD_PROTECCION_INTERVINO" type="java.lang.Integer" length="4"/>
	    <property name="indTension" column="IND_TENSION" type="java.lang.Integer" length="1"/>
		              			
		<set name="seccionamientos" lazy="false" fetch="join" cascade="none" inverse="true" mutable="false" order-by="SECCION">
			<key> 
				<column name="AA"></column>
				<column name="COD_OFICINA"></column>
				<column name="NUMINTERRUP"></column>								
			</key>
			<one-to-many class="cr.go.ice.interrupciones.domain.NoPropiaSeccionamiento" />
		</set>
		
		<set name="gemelas" lazy="false" fetch="join" cascade="none" inverse="true" mutable="false">
			<key> 
				<column name="AA"></column>
				<column name="COD_OFICINA"></column>
				<column name="NUMINTERRUP"></column>								
			</key>
			<one-to-many class="cr.go.ice.interrupciones.domain.InterrupcionGemela" />
		</set>				
				
    </class>
</hibernate-mapping>