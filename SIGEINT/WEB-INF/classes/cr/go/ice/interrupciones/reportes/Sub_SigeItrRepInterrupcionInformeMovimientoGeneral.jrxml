<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Sub_SigeItrRepInterrupcionInformeMovimientoGeneral" pageWidth="157" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="157" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="113f31de-9798-4264-9c85-d2d6ff40d7ba">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="7.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="pOficina" class="java.lang.Integer"/>
	<parameter name="pInterrupcion" class="java.lang.Integer"/>
	<parameter name="pAno" class="java.lang.Integer"/>
	<parameter name="pMovimiento" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
	</parameter>
	<parameter name="pCalidad" class="java.lang.Integer" isForPrompting="false"/>
	<queryString>
		<![CDATA[SELECT decode(eve21m.tipoposte,  1, 'Concreto',
                                 2, 'Madera',
                                 3, 'Riel',
                                 4, 'Autosoportado',
                                 5, 'Metal',
                                    'N/A') TipoPoste,
       decode (eve21m.indicador, 1, 'Instalado',0,'Retirado') Estado,eve21m.LONGITUD
FROM eve01m,eve21m
WHERE	eve21m.numinterrup=$P{pInterrupcion}
	AND eve21m.cod_oficina=$P{pOficina}
	AND eve21m.ano=$P{pAno}
  	AND eve21m.indicador = NVL($P{pMovimiento},eve21m.indicador)
	AND eve21m.tipoposte = NVL($P{pCalidad},eve21m.tipoposte)
	AND eve21m.ano= eve01m.aa AND eve01m.cod_oficina = eve21m.cod_oficina AND eve21m.numinterrup = eve01m.numinterrup]]>
	</queryString>
	<field name="TIPOPOSTE" class="java.lang.String"/>
	<field name="ESTADO" class="java.lang.String"/>
	<field name="LONGITUD" class="java.lang.Integer"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField" stretchType="RelativeToTallestObject" x="57" y="0" width="53" height="13" isPrintWhenDetailOverflows="true" uuid="2368f313-d6cf-4e16-9818-54a67eb7869e">
					<printWhenExpression><![CDATA[new Boolean($P{pMovimiento}==null || $P{pMovimiento}.intValue()==0 && $F{ESTADO}.equals("Retirado"))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{TIPOPOSTE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-2" stretchType="RelativeToTallestObject" x="0" y="0" width="57" height="13" isPrintWhenDetailOverflows="true" uuid="eca1e0b3-be0b-468f-b468-bcfad7718fdd">
					<printWhenExpression><![CDATA[new Boolean($P{pMovimiento}==null || $P{pMovimiento}.intValue()==0 && $F{ESTADO}.equals("Retirado"))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{LONGITUD}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" stretchType="RelativeToTallestObject" x="110" y="0" width="47" height="13" isPrintWhenDetailOverflows="true" uuid="9d7afbee-802b-4856-aee0-70ea3c253814">
					<printWhenExpression><![CDATA[new Boolean($P{pMovimiento}==null || $P{pMovimiento}.intValue()==0 && $F{ESTADO}.equals("Retirado"))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ESTADO}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-5" stretchType="RelativeToTallestObject" x="57" y="0" width="53" height="13" isPrintWhenDetailOverflows="true" uuid="051056b2-9eb2-4114-a39e-318f32b62623">
					<printWhenExpression><![CDATA[new Boolean($P{pMovimiento}==null || $P{pMovimiento}.intValue()==1 && $F{ESTADO}.equals("Instalado"))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{TIPOPOSTE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-6" stretchType="RelativeToTallestObject" x="0" y="0" width="57" height="13" isPrintWhenDetailOverflows="true" uuid="05d9cf1f-2e20-4191-8459-a0cec3f7c172">
					<printWhenExpression><![CDATA[new Boolean($P{pMovimiento}==null || $P{pMovimiento}.intValue()==1 && $F{ESTADO}.equals("Instalado"))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{LONGITUD}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-7" stretchType="RelativeToTallestObject" x="110" y="0" width="47" height="13" isPrintWhenDetailOverflows="true" uuid="cf53a1e2-c6e3-41c6-b1d1-ec5b4b76d501">
					<printWhenExpression><![CDATA[new Boolean($P{pMovimiento}==null || $P{pMovimiento}.intValue()==1 && $F{ESTADO}.equals("Instalado"))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ESTADO}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
